# Zettelkasten ìë™í™” ì‹œìŠ¤í…œ

> Obsidian ê¸°ë°˜ ì§€ì‹ê´€ë¦¬ ì‹œìŠ¤í…œì˜ ìë™í™” ë„êµ¬

## ğŸ“‹ ëª©ì°¨
- [ê°œìš”](#ê°œìš”)
- [ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜](#ì‹œìŠ¤í…œ-ì•„í‚¤í…ì²˜)
- [í•µì‹¬ êµ¬ì„±ìš”ì†Œ](#í•µì‹¬-êµ¬ì„±ìš”ì†Œ)
- [ë™ì‘ ë°©ì‹](#ë™ì‘-ë°©ì‹)
- [CLI ëª…ë ¹ì–´](#cli-ëª…ë ¹ì–´)
- [ì‹œë‚˜ë¦¬ì˜¤](#ì‹œë‚˜ë¦¬ì˜¤)
- [ì„¤ì •](#ì„¤ì •)

## ê°œìš”

ì´ ì‹œìŠ¤í…œì€ Zettelkasten ë°©ë²•ë¡ ì„ ê¸°ë°˜ìœ¼ë¡œ í•œ ì§€ì‹ê´€ë¦¬ ì‹œìŠ¤í…œì„ ìë™í™”í•©ë‹ˆë‹¤. Python ê¸°ë°˜ orchestratorì™€ ëª¨ë“ˆí˜• spec ì‹œìŠ¤í…œì„ í†µí•´ íš¨ìœ¨ì ì¸ ë…¸íŠ¸ ìƒì„±ê³¼ ê´€ë¦¬ë¥¼ ì§€ì›í•©ë‹ˆë‹¤.

### ì£¼ìš” íŠ¹ì§•
- ğŸš€ **ë™ì  Spec ë¡œë”©**: ì‹œë‚˜ë¦¬ì˜¤ë³„ í•„ìš”í•œ specë§Œ ë¡œë“œ (89% ì»¨í…ìŠ¤íŠ¸ ì ˆê°)
- ğŸ¤– **LLM í†µí•©**: Claude Desktopê³¼ ì™„ë²½í•œ í†µí•©
- ğŸ“ **ìë™í™”ëœ ì›Œí¬í”Œë¡œìš°**: íŒŒì¼ëª… ìƒì„±, ê²€ì¦, ì²¨ë¶€íŒŒì¼ ì²˜ë¦¬
- ğŸ”§ **ëª¨ë“ˆí˜• ì„¤ê³„**: 12ê°œì˜ ë…ë¦½ì ì¸ spec íŒŒì¼ë¡œ êµ¬ì„±

## ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         ì‚¬ìš©ì ì…ë ¥ (Claude Desktop)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      LLM ì‹œë‚˜ë¦¬ì˜¤ íŒë³„                    â”‚
â”‚   (capture/process/create/connect...)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           orchestrator.py                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  1. load_specs: ë™ì  spec ë¡œë“œ   â”‚    â”‚
â”‚  â”‚  2. filename: íŒŒì¼ëª… ìƒì„±        â”‚    â”‚
â”‚  â”‚  3. validate: ê²€ì¦ ìˆ˜í–‰          â”‚    â”‚
â”‚  â”‚  4. workflow: í†µí•© ì‹¤í–‰          â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            rules.yaml                    â”‚
â”‚     ì‹œë‚˜ë¦¬ì˜¤ë³„ ê·œì¹™ ë° ì„¤ì •               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              specs/                      â”‚
â”‚  â”œâ”€â”€ core/      (ê¸°ë³¸ ê·œì¹™)              â”‚
â”‚  â”œâ”€â”€ scenarios/ (ì‹œë‚˜ë¦¬ì˜¤ë³„ ëª…ì„¸)         â”‚
â”‚  â””â”€â”€ validators/ (ê²€ì¦ ê·œì¹™)             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## í•µì‹¬ êµ¬ì„±ìš”ì†Œ

### 1. orchestrator.py
ë©”ì¸ ì‹¤í–‰ ì—”ì§„ìœ¼ë¡œ ëª¨ë“  ìë™í™” ê¸°ëŠ¥ì„ ë‹´ë‹¹í•©ë‹ˆë‹¤.

**ì£¼ìš” ë©”ì„œë“œ:**
- `load_specs_for_scenario()`: ì‹œë‚˜ë¦¬ì˜¤ë³„ spec ë™ì  ë¡œë“œ
- `get_filename()`: ê·œì¹™ ê¸°ë°˜ íŒŒì¼ëª… ìƒì„±
- `validate()`: íŒŒì¼ êµ¬ì¡° ë° ë‚´ìš© ê²€ì¦
- `workflow()`: í†µí•© ì›Œí¬í”Œë¡œìš° ì‹¤í–‰
- `process_attachments()`: ì²¨ë¶€íŒŒì¼ ë¶„ì„
- `execute_attachments()`: ì²¨ë¶€íŒŒì¼ ì²˜ë¦¬ ì‹¤í–‰

### 2. rules.yaml
ì‹œë‚˜ë¦¬ì˜¤ë³„ ê·œì¹™ê³¼ ì„¤ì •ì„ ì •ì˜í•©ë‹ˆë‹¤.

```yaml
scenarios:
  capture:
    description: "ì¦‰í¥ë©”ëª¨ - ì•„ì´ë””ì–´, TODO, ë¹ ë¥¸ ìƒê° ìº¡ì²˜"
    filename_template: "{date}-{time}-{title}.md"
    path: "10-ìˆ˜ì§‘/ì¦‰í¥ë©”ëª¨"
    spec_files:
      - "scenarios/capture.spec.md"
      - "core/metadata.spec.md"
```

### 3. Specs ë””ë ‰í† ë¦¬
```
specs/
â”œâ”€â”€ core/           # ê¸°ë³¸ ê·œì¹™ (4ê°œ)
â”‚   â”œâ”€â”€ metadata.spec.md     # ë©”íƒ€ë°ì´í„° í‘œì¤€
â”‚   â”œâ”€â”€ structure.spec.md    # í´ë” êµ¬ì¡°
â”‚   â”œâ”€â”€ link-rules.spec.md   # ë§í¬ ê·œì¹™
â”‚   â””â”€â”€ suggestions.spec.md  # ì œì•ˆ ì‹œìŠ¤í…œ
â”œâ”€â”€ scenarios/      # ì‹œë‚˜ë¦¬ì˜¤ë³„ ëª…ì„¸ (7ê°œ)
â”‚   â”œâ”€â”€ capture.spec.md      # ì¦‰í¥ë©”ëª¨
â”‚   â”œâ”€â”€ process.spec.md      # ìë£Œì •ë¦¬
â”‚   â”œâ”€â”€ create.spec.md       # í•µì‹¬ê°œë…
â”‚   â”œâ”€â”€ connect.spec.md      # MOC
â”‚   â”œâ”€â”€ project.spec.md      # í”„ë¡œì íŠ¸
â”‚   â”œâ”€â”€ review.spec.md       # ë¦¬ë·°
â”‚   â””â”€â”€ search.spec.md       # ê²€ìƒ‰
â””â”€â”€ validators/     # ê²€ì¦ ê·œì¹™ (2ê°œ)
    â”œâ”€â”€ link-validator.spec.md  # ë§í¬ ê²€ì¦
    â””â”€â”€ priority.spec.md        # ìš°ì„ ìˆœìœ„
```

### 4. í…œí”Œë¦¿
ê° ë…¸íŠ¸ íƒ€ì…ë³„ ê¸°ë³¸ í…œí”Œë¦¿ì„ ì œê³µí•©ë‹ˆë‹¤.
- `í…œí”Œë¦¿-ì¦‰í¥ë©”ëª¨.md`
- `í…œí”Œë¦¿-Literature.md`
- `í…œí”Œë¦¿-Permanent.md`
- `í…œí”Œë¦¿-MOC.md`
- `í…œí”Œë¦¿-Project.md`

## ë™ì‘ ë°©ì‹

### 1ë‹¨ê³„: ì‹œë‚˜ë¦¬ì˜¤ íŒë³„ (LLM)
```python
# Claudeê°€ ì‚¬ìš©ì ì…ë ¥ ë¶„ì„
scenario = analyze_user_input("AI ì—ì´ì „íŠ¸ í•µì‹¬ê°œë… ë§Œë“¤ì–´ì¤˜")
# ê²°ê³¼: "create"
```

### 2ë‹¨ê³„: Spec ë¡œë“œ
```bash
python3 orchestrator.py load_specs create
```
**ê²°ê³¼:**
- ë¡œë“œëœ specs: 3ê°œ (create.spec.md, metadata.spec.md, link-rules.spec.md)
- ì´ ë¼ì¸: 169ì¤„ (ì›ë³¸ 1,392ì¤„ ëŒ€ë¹„ 88% ì ˆê°)

### 3ë‹¨ê³„: íŒŒì¼ëª… ìƒì„±
```bash
python3 orchestrator.py filename create "AI ì—ì´ì „íŠ¸"
```
**ê²°ê³¼:** `ê°œë…-20241104a-AIì—ì´ì „íŠ¸.md`

### 4ë‹¨ê³„: ê²€ì¦
```bash
python3 orchestrator.py validate "íŒŒì¼ê²½ë¡œ.md"
```

## CLI ëª…ë ¹ì–´

### ê¸°ë³¸ ëª…ë ¹ì–´

#### `load_specs <scenario>`
ì‹œë‚˜ë¦¬ì˜¤ì— í•„ìš”í•œ spec íŒŒì¼ì„ ë™ì ìœ¼ë¡œ ë¡œë“œí•©ë‹ˆë‹¤.
```bash
python3 orchestrator.py load_specs capture
```

#### `workflow <scenario> [title]`
spec ë¡œë“œì™€ íŒŒì¼ëª… ìƒì„±ì„ í•œë²ˆì— ìˆ˜í–‰í•©ë‹ˆë‹¤.
```bash
python3 orchestrator.py workflow create "í…ŒìŠ¤íŠ¸ ê°œë…"
```

#### `filename <scenario> <title>`
ê·œì¹™ì— ë”°ë¼ íŒŒì¼ëª…ì„ ìƒì„±í•©ë‹ˆë‹¤.
```bash
python3 orchestrator.py filename capture "ì•„ì´ë””ì–´"
# ê²°ê³¼: 20241104-1530-ì•„ì´ë””ì–´.md
```

#### `validate <filepath> [mode]`
íŒŒì¼ êµ¬ì¡°ì™€ ë‚´ìš©ì„ ê²€ì¦í•©ë‹ˆë‹¤.
- `deep` (ê¸°ë³¸): ìƒì„¸ ê²€ì¦ + validator specs
- `quick`: ê¸°ë³¸ êµ¬ì¡° ê²€ì¦ë§Œ
```bash
python3 orchestrator.py validate "ê°œë…-20241104a-AI.md"
```

### ëª©ë¡ ì¡°íšŒ

#### `list_mocs`
ëª¨ë“  MOC(Map of Content) ëª©ë¡ì„ ì¡°íšŒí•©ë‹ˆë‹¤.
```bash
python3 orchestrator.py list_mocs
```

#### `list_concepts [filters]`
í•µì‹¬ê°œë… ëª©ë¡ì„ ì¡°íšŒí•©ë‹ˆë‹¤.
```bash
python3 orchestrator.py list_concepts '{"tags": ["ai"]}'
```

### ì²¨ë¶€íŒŒì¼ ì²˜ë¦¬

#### `attachments <filepath>`
íŒŒì¼ì˜ ì²¨ë¶€íŒŒì¼ì„ ë¶„ì„í•©ë‹ˆë‹¤.
```bash
python3 orchestrator.py attachments "ë¬¸ì„œ.md"
```

#### `process_attachments <filepath> [--dry-run]`
ì²¨ë¶€íŒŒì¼ì„ ìë™ìœ¼ë¡œ ì²˜ë¦¬í•©ë‹ˆë‹¤.
```bash
# ë¯¸ë¦¬ë³´ê¸°
python3 orchestrator.py process_attachments "ë¬¸ì„œ.md" --dry-run

# ì‹¤ì œ ì²˜ë¦¬
python3 orchestrator.py process_attachments "ë¬¸ì„œ.md"
```

**ì²˜ë¦¬ ë‚´ìš©:**
- ì´ë¯¸ì§€ íŒŒì¼ì„ `/80-ë³´ê´€/ì²¨ë¶€íŒŒì¼/YYYYMMDD/`ë¡œ ì´ë™
- ë§ˆí¬ë‹¤ìš´ ë§í¬ ìë™ ì—…ë°ì´íŠ¸
- Obsidian í˜•ì‹ `![[file.png]]` â†’ í‘œì¤€ í˜•ì‹ `![](../../80-ë³´ê´€/ì²¨ë¶€íŒŒì¼/YYYYMMDD/file.png)`

### ê¸°íƒ€

#### `preview <filepath> [lines]`
íŒŒì¼ ë¯¸ë¦¬ë³´ê¸° (ê¸°ë³¸ 5ì¤„)
```bash
python3 orchestrator.py preview "íŒŒì¼.md" 10
```

#### `scenario_info <scenario>`
ì‹œë‚˜ë¦¬ì˜¤ ì •ë³´ ì¡°íšŒ
```bash
python3 orchestrator.py scenario_info create
```

## ì‹œë‚˜ë¦¬ì˜¤

### capture (ì¦‰í¥ë©”ëª¨)
- **ìš©ë„**: ì•„ì´ë””ì–´, TODO, ë¹ ë¥¸ ìƒê° ìº¡ì²˜
- **ê²½ë¡œ**: `10-ìˆ˜ì§‘/ì¦‰í¥ë©”ëª¨/`
- **íŒŒì¼ëª…**: `YYYYMMDD-HHMM-ì œëª©.md`
- **Specs**: capture.spec.md, metadata.spec.md

### process (ìë£Œì •ë¦¬)
- **ìš©ë„**: ì›ë¬¸ ë¶„ì„ ë° ìš”ì•½
- **ê²½ë¡œ**: `20-ì •ë¦¬/ìë£Œì •ë¦¬/`
- **íŒŒì¼ëª…**: `ì •ë¦¬-YYYYMMDD-ì œëª©.md`
- **Specs**: process.spec.md, metadata.spec.md

### create (í•µì‹¬ê°œë…)
- **ìš©ë„**: ë‹¨ì¼ ì›ìì  ê°œë… (100ì¤„ ì œí•œ)
- **ê²½ë¡œ**: `20-ì •ë¦¬/í•µì‹¬ê°œë…/`
- **íŒŒì¼ëª…**: `ê°œë…-YYYYMMDDa-ì œëª©.md`
- **Specs**: create.spec.md, metadata.spec.md, link-rules.spec.md
- **íŠ¹ì§•**: suffix ìë™ ì¦ê°€ (a, b, c...)

### connect (MOC)
- **ìš©ë„**: ê°œë… ì—°ê²° ë§µ
- **ê²½ë¡œ**: `30-ì—°ê²°/`
- **íŒŒì¼ëª…**: `ë§µ-ì œëª©.md`
- **Specs**: connect.spec.md, link-rules.spec.md

### project (í”„ë¡œì íŠ¸)
- **ìš©ë„**: ì‹¤í–‰ ê³„íš
- **ê²½ë¡œ**: `40-ì‹¤í–‰/í”„ë¡œì íŠ¸ëª…/`
- **íŒŒì¼ëª…**: `_index.md`
- **Specs**: project.spec.md

### review (ë¦¬ë·°)
- **ìš©ë„**: ì£¼ê°„/ì›”ê°„ ê²€í† 
- **ì½ê¸° ì „ìš©**
- **Specs**: review.spec.md

### search (ê²€ìƒ‰)
- **ìš©ë„**: ê¸°ë³¸ ì‹œë‚˜ë¦¬ì˜¤ (ëª…í™•í•˜ì§€ ì•Šì€ ì…ë ¥)
- **ì½ê¸° ì „ìš©**
- **Specs**: search.spec.md

## ì„¤ì •

### rules.yaml êµ¬ì¡°
```yaml
version: "1.0"
docs_root: "/path/to/docs-system"

scenarios:
  scenario_name:
    description: "ì„¤ëª…"
    filename_template: "í…œí”Œë¦¿"
    path: "ì €ì¥ ê²½ë¡œ"
    spec_files: [spec ëª©ë¡]
    validation: [ê²€ì¦ ê·œì¹™]
    auto_execute: true/false
    needs_suffix: true/false

attachments:
  base_path: "80-ë³´ê´€/ì²¨ë¶€íŒŒì¼"
  organize_by: "date"
  date_format: "%Y%m%d"

suffix:
  chars: "abcdefghij"
```

### í™˜ê²½ ë³€ìˆ˜
- `DOCS_HOME`: ë¬¸ì„œ ì‹œìŠ¤í…œ ë£¨íŠ¸ ê²½ë¡œ (ì„ íƒì‚¬í•­)
- `LOG_LEVEL`: ë¡œê·¸ ë ˆë²¨ (INFO, DEBUG, ERROR)

### Claude Desktop í†µí•©
`claude_code_system_prompt.md` íŒŒì¼ì„ Claude Desktopì˜ ì‹œìŠ¤í…œ í”„ë¡¬í”„íŠ¸ë¡œ ì„¤ì •í•˜ë©´ ìë™ìœ¼ë¡œ ì´ ì‹œìŠ¤í…œì„ í™œìš©í•©ë‹ˆë‹¤.

## ì„±ëŠ¥

### ì»¨í…ìŠ¤íŠ¸ ìµœì í™”
| ì‹œë‚˜ë¦¬ì˜¤ | ë¡œë“œëœ Specs | ì´ ë¼ì¸ìˆ˜ | ì ˆê°ë¥  |
|---------|-------------|---------|--------|
| capture | 2ê°œ | 116ì¤„ | 92% |
| process | 2ê°œ | 150ì¤„ | 89% |
| create  | 3ê°œ | 169ì¤„ | 88% |
| connect | 2ê°œ | 193ì¤„ | 86% |
| **í‰ê· ** | **2.3ê°œ** | **157ì¤„** | **89%** |

ê¸°ì¡´ monolithic í”„ë¡¬í”„íŠ¸(1,392ì¤„) ëŒ€ë¹„ í‰ê·  89% ì»¨í…ìŠ¤íŠ¸ ì ˆê°

## ë¬¸ì œ í•´ê²°

### Python ìŠ¤í¬ë¦½íŠ¸ê°€ ì‹¤í–‰ë˜ì§€ ì•Šì„ ë•Œ
```bash
# Python 3 ì„¤ì¹˜ í™•ì¸
python3 --version

# ì§ì ‘ í…ŒìŠ¤íŠ¸
cd /path/to/90-ì„¤ì •
python3 orchestrator.py load_specs create
```

### íŒŒì¼ì„ ì°¾ì„ ìˆ˜ ì—†ì„ ë•Œ
- `rules.yaml`ì˜ `docs_root` ê²½ë¡œ í™•ì¸
- í™˜ê²½ë³€ìˆ˜ `DOCS_HOME` ì„¤ì • í™•ì¸

### ì²¨ë¶€íŒŒì¼ ì²˜ë¦¬ê°€ ì‹¤íŒ¨í•  ë•Œ
- ëŒ€ìƒ ë””ë ‰í† ë¦¬ ê¶Œí•œ í™•ì¸
- ì´ë¯¸ì§€ íŒŒì¼ì´ ì‹¤ì œë¡œ ì¡´ì¬í•˜ëŠ”ì§€ í™•ì¸

## ê¸°ì—¬

ì´ ì‹œìŠ¤í…œì€ ì§€ì†ì ìœ¼ë¡œ ê°œì„ ë˜ê³  ìˆìŠµë‹ˆë‹¤. ë‹¤ìŒ ì˜ì—­ì—ì„œ ê¸°ì—¬ë¥¼ í™˜ì˜í•©ë‹ˆë‹¤:
- Validator ìë™í™” êµ¬í˜„
- ìƒˆë¡œìš´ ì‹œë‚˜ë¦¬ì˜¤ ì¶”ê°€
- ì„±ëŠ¥ ìµœì í™”
- ë¬¸ì„œ ê°œì„ 