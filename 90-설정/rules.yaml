# 경량 규칙 정의 - orchestrator.py가 사용
version: "1.0"
docs_root: "/Users/seolmin.kwon/Documents/docs-system"

context:
  target_total_lines: 270

# 시나리오 정의
scenarios:
  capture:
    description: "즉흥메모 - 아이디어, TODO, 빠른 생각 캡처"
    filename_template: "{date}-{time}-{title}.md"
    path: "10-수집/즉흥메모"
    template: "템플릿-즉흥메모.md"
    spec_files:
      - "scenarios/capture.spec.md"
      - "core/metadata.spec.md"
      - "core/templates.spec.md"
    validation:
      - source_field_exists
      - tags_field_exists
    validator_specs:
      - "validators/priority.spec.md"
    auto_execute: true
    
  process:
    description: "자료정리 - 원문 분석 및 요약"
    filename_template: "정리-{date}-{title}.md"
    path: "20-정리/자료정리"
    template: "템플릿-Literature.md"
    spec_files:
      - "scenarios/process.spec.md"
      - "core/metadata.spec.md"
      - "core/templates.spec.md"
    validation:
      - source_field_exists
      - source_must_be_원문
    validator_specs:
      - "validators/link-validator.spec.md"
    auto_execute: true
    
  create:
    description: "핵심개념 - 단일 원자적 개념 (100줄 제한)"
    filename_template: "개념-{date}{suffix}-{title}.md"
    path: "20-정리/핵심개념"
    template: "템플릿-Permanent.md"
    spec_files:
      - "scenarios/create.spec.md"
      - "core/metadata.spec.md"
      - "core/link-rules.spec.md"
      - "core/templates.spec.md"
    validation:
      - source_field_exists
      - moc_link_recommended
    validator_specs:
      - "validators/link-validator.spec.md"
    auto_execute: false  # MOC 연결 제안 필요
    needs_suffix: true
    
  connect:
    description: "MOC - 개념 연결 맵"
    filename_template: "맵-{title}.md"
    path: "30-연결"
    template: "템플릿-MOC.md"
    spec_files:
      - "scenarios/connect.spec.md"
      - "core/link-rules.spec.md"
      - "core/metadata.spec.md"
      - "core/templates.spec.md"
    validation:
      - min_concepts: 3
    validator_specs:
      - "validators/link-validator.spec.md"
    auto_execute: false
    
  project:
    description: "프로젝트 - 실행 계획"
    filename_template: "{project_name}.md"
    path: "40-실행/{project_name}"
    template: "템플릿-Project.md"
    spec_files:
      - "scenarios/project.spec.md"
      - "core/metadata.spec.md"
      - "core/templates.spec.md"
    validation: []
    validator_specs:
      - "validators/priority.spec.md"
    auto_execute: false
    create_structure:
      main_file: "{project_name}.md"
      planning: "{project_name}-계획.md"
      resources: "{project_name}-자료.md"
      tasks: "{project_name}-작업.md"
    
  review:
    description: "리뷰 - 주간/월간 검토"
    spec_files:
      - "scenarios/review.spec.md"
      - "core/metadata.spec.md"
    read_only: true
    
  search:
    description: "검색 - 기본 시나리오 (명확하지 않은 입력)"
    spec_files:
      - "scenarios/search.spec.md"
    read_only: true
    is_default: true  # Claude가 판단하지 못할 때 기본값

# Suffix 설정
suffix:
  chars: "abcdefghij"

# 첨부파일 설정
attachments:
  base_path: "80-보관/첨부파일"
  organize_by: date
  date_format: "%Y%m%d"